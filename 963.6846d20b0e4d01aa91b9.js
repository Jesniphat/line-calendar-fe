(self.webpackChunkline_calendar=self.webpackChunkline_calendar||[]).push([[963],{8963:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SettingMeetingSummaryModule:()=>U});var s=i(2057),r=i(270),n=i(3713),a=i(6304),o=i(5094),l=i(8873),u=i(5576),c=i(5207),d=i(9734),p=i(8497);let g=(()=>{class e{constructor(e){this.http=e,this.url=u.N.api}saveSetting(e){return this.http.post(`${this.url}/calendar/set-scheduled`,{time:e}).pipe((0,c.U)(e=>null==e?void 0:e.data))}updateSchedule(){return this.http.put(`${this.url}/schedules`,{}).pipe((0,c.U)(e=>null==e?void 0:e.data))}getSettingLists(e){return this.http.get(`${this.url}/calendar/schedule-lists?first=${e.first}&rows=${e.rows}`).pipe((0,c.U)(e=>null==e?void 0:e.data))}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(p.eN))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=i(9922),m=i(7540),v=i(855),f=i(3013),Z=i(7965),T=i(4207),b=i(8598),y=i(5897);function S(e,t){1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"th"),d._uU(2,"Time"),d.qZA(),d.TgZ(3,"th"),d._uU(4,"Created By"),d.qZA(),d.TgZ(5,"th"),d._uU(6,"Created When"),d.qZA(),d.qZA())}function A(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.ALo(3,"date"),d.qZA(),d.TgZ(4,"td"),d._uU(5),d.qZA(),d.TgZ(6,"td"),d._uU(7),d.qZA(),d.qZA()),2&e){const e=t.$implicit;d.xp6(2),d.Oqu(d.xi3(3,3,e.scheduledTime,"HH:mm")),d.xp6(3),d.Oqu((null==e.creater?null:e.creater.firstname)||"-"),d.xp6(2),d.Oqu(e.created)}}const q=[{path:"",component:(()=>{class e{constructor(e,t,i,s){this.fb=e,this.settingMeetingService=t,this.loadingService=i,this.messageService=s,this.setUpTimeForm=this.fb.control(null,[r.kI.required]),this.scheduleLists=[],this.scheduleTotal=0,this.getDataLists=new o.X({}),this.currentFilter={},this.unsub=[]}ngOnInit(){}ngAfterViewInit(){this.initGetDataLists()}initGetDataLists(){var e=this;return(0,a.Z)(function*(){e.unsub[0]=e.getDataLists.pipe((0,h.b)(t=>{e.currentFilter=t}),(0,m.w)(t=>e.settingMeetingService.getSettingLists(t))).subscribe({next:t=>{e.scheduleLists=t.list,e.scheduleTotal=t.total},error:t=>{e.messageService.add({severity:"error",summary:"error",detail:"Get times error."})}})})()}saveTime(){const e=l(this.setUpTimeForm.value).format("YYYY-MM-DD HH:mm");this.settingMeetingService.saveSetting(e).pipe((0,h.b)(e=>this.loadingService.setLoading(!0)),(0,m.w)(e=>this.settingMeetingService.updateSchedule()),(0,m.w)(e=>this.settingMeetingService.getSettingLists(this.currentFilter))).subscribe({next:e=>{this.loadingService.setLoading(!1),this.scheduleLists=e.list,this.scheduleTotal=e.total,this.messageService.add({severity:"success",summary:"Success",detail:"Add times success."})},error:e=>{this.messageService.add({severity:"error",summary:"error",detail:"Add times error."})}})}ngOnDestroy(){this.unsub.forEach(e=>{e&&e.unsubscribe()})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(r.qu),d.Y36(g),d.Y36(v.b),d.Y36(f.ez))},e.\u0275cmp=d.Xpm({type:e,selectors:[["apis-setting-meeting-summary"]],decls:13,vars:8,consts:[["position","top-right"],[1,"p-grid","p-jc-end"],[1,"p-col-3","p-md-2","p-lg-1"],["pButton","","type","button","label","Save",1,"p-button-outlined",3,"disabled","click"],[1,"p-fluid","p-grid","p-formgrid"],[1,"p-field","p-col-12","p-md-6","p-lg-4"],["for","timeonly"],["inputId","timeonly",3,"timeOnly","formControl"],[3,"value","lazy","paginator","rows","totalRecords","onLazyLoad"],["pTemplate","header"],["pTemplate","body"]],template:function(e,t){1&e&&(d._UZ(0,"p-toast",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"button",3),d.NdJ("click",function(){return t.saveTime()}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"label",6),d._uU(7,"\u0e40\u0e27\u0e25\u0e32\u0e2a\u0e23\u0e38\u0e1b\u0e1b\u0e23\u0e30\u0e0a\u0e38\u0e21"),d.qZA(),d._UZ(8,"p-calendar",7),d.qZA(),d.qZA(),d.TgZ(9,"div",4),d.TgZ(10,"p-table",8),d.NdJ("onLazyLoad",function(e){return t.getDataLists.next(e)}),d.YNc(11,S,7,0,"ng-template",9),d.YNc(12,A,8,6,"ng-template",10),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("disabled",t.setUpTimeForm.invalid),d.xp6(5),d.Q6J("timeOnly",!0)("formControl",t.setUpTimeForm),d.xp6(2),d.Q6J("value",t.scheduleLists)("lazy",!0)("paginator",!0)("rows",10)("totalRecords",t.scheduleTotal))},directives:[Z.FN,T.Hq,b.f,r.JJ,r.oH,y.iA,f.jx],pipes:[s.uU],styles:[""]}),e})()}];let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[n.Bz.forChild(q)],n.Bz]}),e})(),U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({providers:[f.ez],imports:[[s.ez,r.UX,L,T.hJ,b._8,y.U$,Z.EV]]}),e})()}}]);